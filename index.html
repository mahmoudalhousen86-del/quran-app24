<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØµØ­Ù Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</title>
    
    <!-- PWA Meta -->
    <meta name="theme-color" content="#1a472a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ù…ØµØ­Ù Ø§Ù„Ù‚Ø±Ø¢Ù†">
    <link rel="apple-touch-icon" href="https://img.icons8.com/color/192/000000/quran.png">
    
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #1a472a;
            --secondary: #2e8b57;
            --accent: #3cb371;
            --light: #f8f9fa;
            --dark: #1a1a1a;
            --card: #ffffff;
            --shadow: rgba(0, 0, 0, 0.08);
        }
        
        [data-theme="dark"] {
            --primary: #3cb371;
            --secondary: #2e8b57;
            --light: #1a1a1a;
            --dark: #ffffff;
            --card: #2d2d2d;
            --shadow: rgba(0, 0, 0, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--light);
            color: var(--dark);
            transition: all 0.3s ease;
            padding-bottom: 80px;
        }
        
        .app-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
        }
        
        /* Header */
        .app-header {
            background: linear-gradient(135deg, var(--primary), #2e8b57);
            color: white;
            padding: 25px 20px;
            border-radius: 20px;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(26, 71, 42, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .app-header::before {
            content: 'ï´¾ï´¿';
            position: absolute;
            font-size: 120px;
            opacity: 0.1;
            right: 20px;
            top: 10px;
        }
        
        .app-title {
            font-size: 28px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .app-subtitle {
            opacity: 0.9;
            font-size: 16px;
        }
        
        /* Navigation */
        .app-nav {
            display: flex;
            gap: 10px;
            margin: 25px 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-btn {
            flex: 1;
            min-width: 120px;
            padding: 18px 15px;
            background: var(--card);
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 15px var(--shadow);
            transition: all 0.3s ease;
        }
        
        .nav-btn.active {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(26, 71, 42, 0.4);
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
        }
        
        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Cards */
        .card {
            background: var(--card);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 30px var(--shadow);
            border-right: 5px solid var(--primary);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(60, 179, 113, 0.1);
        }
        
        .card-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 22px;
            color: var(--primary);
        }
        
        /* Quran Text */
        .quran-text {
            font-size: 28px;
            line-height: 2;
            text-align: center;
            margin: 25px 0;
            color: var(--primary);
            font-weight: 600;
            text-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        /* Info Grid */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .info-item {
            background: rgba(60, 179, 113, 0.05);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .info-item:hover {
            transform: translateY(-5px);
            background: rgba(60, 179, 113, 0.1);
        }
        
        /* Buttons */
        .btn {
            padding: 16px 25px;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
            width: 100%;
            margin: 10px 0;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 8px 25px rgba(26, 71, 42, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(26, 71, 42, 0.4);
        }
        
        .btn-secondary {
            background: rgba(60, 179, 113, 0.1);
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }
        
        /* Progress Bar */
        .progress-container {
            margin: 25px 0;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(60, 179, 113, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 0%;
            transition: width 1s ease;
            border-radius: 5px;
        }
        
        /* Page Navigation */
        .page-nav {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin: 30px 0;
        }
        
        .page-btn {
            flex: 1;
            padding: 18px;
            background: var(--card);
            border: 2px solid var(--primary);
            border-radius: 15px;
            font-size: 17px;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }
        
        .page-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }
        
        /* Ayah List */
        .ayah-list {
            max-height: 600px;
            overflow-y: auto;
            padding: 15px;
            background: var(--card);
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .ayah-item {
            padding: 20px;
            margin: 15px 0;
            background: rgba(60, 179, 113, 0.05);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-right: 3px solid transparent;
        }
        
        .ayah-item:hover {
            background: rgba(60, 179, 113, 0.1);
            border-right-color: var(--primary);
            transform: translateX(-5px);
        }
        
        .ayah-item.active {
            background: rgba(60, 179, 113, 0.15);
            border-right-color: var(--primary);
        }
        
        /* Settings */
        .setting-item {
            padding: 20px;
            margin: 15px 0;
            background: rgba(60, 179, 113, 0.05);
            border-radius: 15px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .app-nav { flex-direction: column; }
            .nav-btn { min-width: 100%; }
            .quran-text { font-size: 24px; }
            .info-grid { grid-template-columns: 1fr 1fr; }
            .page-nav { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1 class="app-title"><i class="fas fa-quran"></i> Ù…ØµØ­Ù Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h1>
            <p class="app-subtitle">Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© - 604 ØµÙØ­Ø© Ù…Ø¹ Ø§Ù„ØªÙØ³ÙŠØ± ÙˆØ§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª</p>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                    <span id="current-progress">0%</span>
                    <span id="reading-stats">ğŸ“– 0 Ø¢ÙŠØ© | â±ï¸ 0 Ø¯Ù‚ÙŠÙ‚Ø©</span>
                </div>
            </div>
        </header>
        
        <!-- Navigation -->
        <nav class="app-nav">
            <button class="nav-btn active" onclick="showSection('daily')">
                <i class="fas fa-calendar-day"></i> Ø§Ù„ÙŠÙˆÙ…
            </button>
            <button class="nav-btn" onclick="showSection('mushaf')">
                <i class="fas fa-book-quran"></i> Ø§Ù„Ù…ØµØ­Ù
            </button>
            <button class="nav-btn" onclick="showSection('pages')">
                <i class="fas fa-file-alt"></i> Ø§Ù„ØµÙØ­Ø§Øª
            </button>
            <button class="nav-btn" onclick="showSection('tafsir')">
                <i class="fas fa-book-open"></i> Ø§Ù„ØªÙØ³ÙŠØ±
            </button>
            <button class="nav-btn" onclick="showSection('reminders')">
                <i class="fas fa-bell"></i> Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª
            </button>
            <button class="nav-btn" onclick="showSection('progress')">
                <i class="fas fa-chart-line"></i> Ø§Ù„ØªÙ‚Ø¯Ù…
            </button>
            <button class="nav-btn" onclick="showSection('settings')">
                <i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            </button>
        </nav>
        
        <!-- Daily Section -->
        <section id="daily-section" class="content-section active">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-sun"></i> Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2>
                    <span id="today-date">Ø§Ù„ÙŠÙˆÙ…</span>
                </div>
                
                <div class="quran-text" id="daily-ayah">
                    ï´¿Ø¨ÙØ³Ù’Ù…Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ù±Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ù±Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ùï´¾
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-graduation-cap"></i> ØªÙØ³ÙŠØ± Ø§Ù„Ø¢ÙŠØ©</h3>
                    <p id="daily-tafsir">Ø£Ø¨Ø¯Ø£ ÙƒÙ„ Ø¹Ù…Ù„ Ù…Ø³ØªØ¹ÙŠÙ†Ù‹Ø§ Ø¨Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…ØŒ Ù…ØªØ°ÙƒØ±Ù‹Ø§ Ø±Ø­Ù…ØªÙ‡ Ø§Ù„ÙˆØ§Ø³Ø¹Ø©.</p>
                </div>
                
                <div class="info-grid">
                    <div class="info-item">
                        <i class="fas fa-mosque"></i>
                        <h4>Ø§Ù„Ù†ÙˆØ¹</h4>
                        <p id="info-type">Ù…ÙƒÙŠØ©</p>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-clock"></i>
                        <h4>Ø²Ù…Ù† Ø§Ù„Ù†Ø²ÙˆÙ„</h4>
                        <p id="info-time">Ù‚Ø¨Ù„ Ø§Ù„Ù‡Ø¬Ø±Ø©</p>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <h4>Ù…ÙƒØ§Ù† Ø§Ù„Ù†Ø²ÙˆÙ„</h4>
                        <p id="info-place">Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©</p>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-list-ol"></i>
                        <h4>Ø³Ø¨Ø¨ Ø§Ù„Ù†Ø²ÙˆÙ„</h4>
                        <p id="info-reason">Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-lightbulb"></i> ÙˆÙ‚ÙØ© Ø¥ÙŠÙ…Ø§Ù†ÙŠØ©</h3>
                    <p id="reflection-text">Ø§Ø¨Ø¯Ø£ ÙŠÙˆÙ…Ùƒ Ø¨Ø§Ù„Ù„Ù‡â€¦ ØªØªØºÙŠØ± Ù†ÙŠØªÙƒ Ù‚Ø¨Ù„ Ø¹Ù…Ù„ÙƒØŒ ÙˆÙŠØ¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠ ÙˆÙ‚ØªÙƒ ÙˆØ£Ø¹Ù…Ø§Ù„Ùƒ.</p>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-check-circle"></i> ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙŠÙˆÙ…</h3>
                    <p id="application-text">Ø³Ù…ÙÙ‘ Ø§Ù„Ù„Ù‡ Ù‚Ø¨Ù„ Ø£ÙŠ Ø¹Ù…Ù„ ØªÙ‚ÙˆÙ… Ø¨Ù‡ Ø§Ù„ÙŠÙˆÙ…: Ù‚Ø¨Ù„ Ø§Ù„Ø£ÙƒÙ„ØŒ Ù‚Ø¨Ù„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŒ Ù‚Ø¨Ù„ Ø§Ù„Ø¹Ù…Ù„.</p>
                    <button class="btn btn-secondary" onclick="markAsDone()">
                        <i class="fas fa-check"></i> ØªÙ… Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„
                    </button>
                </div>
                
                <div class="page-nav">
                    <button class="page-btn" onclick="previousAyah()">
                        <i class="fas fa-chevron-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
                    </button>
                    <button class="page-btn" onclick="nextAyah()">
                        Ø§Ù„ØªØ§Ù„ÙŠØ© <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Mushaf Section -->
        <section id="mushaf-section" class="content-section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-book-quran"></i> Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ</h2>
                    <span id="surah-info">Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©</span>
                </div>
                
                <div style="margin: 20px 0;">
                    <select class="surah-select" id="surah-select" onchange="loadSurah()" style="width: 100%; padding: 15px; border-radius: 10px; border: 2px solid var(--primary); background: var(--card); color: var(--dark);">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                    </select>
                </div>
                
                <div class="ayah-list" id="ayah-list">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
                
                <div class="page-nav">
                    <button class="page-btn" onclick="prevSurah()">
                        <i class="fas fa-chevron-right"></i> Ø³ÙˆØ±Ø© Ø³Ø§Ø¨Ù‚Ø©
                    </button>
                    <button class="page-btn" onclick="nextSurah()">
                        Ø³ÙˆØ±Ø© ØªØ§Ù„ÙŠØ© <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Pages Section -->
        <section id="pages-section" class="content-section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-file-alt"></i> ØªØµÙØ­ Ø§Ù„Ù…ØµØ­Ù ØµÙØ­Ø© ØµÙØ­Ø©</h2>
                    <span id="page-info">Ø§Ù„ØµÙØ­Ø© 1 Ù…Ù† 604</span>
                </div>
                
                <div style="margin: 20px 0; text-align: center;">
                    <input type="range" id="page-slider" min="1" max="604" value="1" style="width: 100%;" oninput="changePage(this.value)">
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>1</span>
                        <span id="current-page-display">Ø§Ù„ØµÙØ­Ø© 1</span>
                        <span>604</span>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-book"></i> Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©</h3>
                    <p id="page-content">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©...</p>
                </div>
                
                <div class="page-nav">
                    <button class="page-btn" onclick="prevPage()">
                        <i class="fas fa-chevron-right"></i> ØµÙØ­Ø© Ø³Ø§Ø¨Ù‚Ø©
                    </button>
                    <button class="page-btn" onclick="nextPage()">
                        ØµÙØ­Ø© ØªØ§Ù„ÙŠØ© <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Tafsir Section -->
        <section id="tafsir-section" class="content-section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-book-open"></i> ØªÙØ³ÙŠØ± Ø§Ù„Ø¢ÙŠØ©</h2>
                    <span id="selected-ayah-info">Ø§Ø®ØªØ± Ø¢ÙŠØ©</span>
                </div>
                
                <div class="quran-text" id="selected-ayah-text">
                    Ø§Ø®ØªØ± Ø¢ÙŠØ© Ù…Ù† Ø§Ù„Ù…ØµØ­Ù Ù„Ø±Ø¤ÙŠØ© ØªÙØ³ÙŠØ±Ù‡Ø§
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-graduation-cap"></i> Ø§Ù„ØªÙØ³ÙŠØ± Ø§Ù„Ù…ÙŠØ³Ø±</h3>
                    <p id="selected-tafsir-text">Ø³ÙŠØ¸Ù‡Ø± ØªÙØ³ÙŠØ± Ø§Ù„Ø¢ÙŠØ© Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø±Ù‡Ø§</p>
                </div>
                
                <div class="info-grid" id="selected-ayah-info-grid">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
            </div>
        </section>
        
        <!-- Reminders Section -->
        <section id="reminders-section" class="content-section">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-bell"></i> Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h2>
                <p style="margin: 15px 0;">Ø§Ø¶Ø¨Ø· ÙˆÙ‚Øª Ø§Ù„ØªØ°ÙƒÙŠØ± Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† ÙŠÙˆÙ…ÙŠØ§Ù‹:</p>
                
                <div style="display: flex; gap: 10px; margin: 20px 0;">
                    <input type="time" id="reminder-time" value="05:00" style="flex: 1; padding: 15px; border-radius: 10px; border: 2px solid var(--primary);">
                    <button class="btn btn-primary" onclick="saveReminder()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸
                    </button>
                </div>
                
                <div class="card" id="notification-permission" style="display: none;">
                    <h3 class="card-title"><i class="fas fa-bell-slash"></i> ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h3>
                    <p>Ù„ØªÙ„Ù‚ÙŠ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§ØªØŒ ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</p>
                    <button class="btn btn-primary" onclick="requestNotificationPermission()">
                        ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¢Ù†
                    </button>
                </div>
                
                <button class="btn btn-secondary" onclick="testNotification()">
                    <i class="fas fa-bell"></i> ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØ°ÙƒÙŠØ± Ø§Ù„Ø¢Ù†
                </button>
            </div>
        </section>
        
        <!-- Progress Section -->
        <section id="progress-section" class="content-section">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-chart-line"></i> ØªÙ‚Ø¯Ù…Ùƒ ÙÙŠ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</h2>
                
                <div class="info-grid">
                    <div class="info-item">
                        <i class="fas fa-fire"></i>
                        <h4>Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©</h4>
                        <p id="streak-days">7 Ø£ÙŠØ§Ù…</p>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-book"></i>
                        <h4>Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø©</h4>
                        <p id="total-ayahs">150 Ø¢ÙŠØ©</p>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-clock"></i>
                        <h4>ÙˆÙ‚Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</h4>
                        <p id="total-time">15 Ø³Ø§Ø¹Ø©</p>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-trophy"></i>
                        <h4>Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</h4>
                        <p id="completion">25%</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-calendar-alt"></i> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</h3>
                    <div id="month-stats">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª...</div>
                </div>
            </div>
        </section>
        
        <!-- Settings Section -->
        <section id="settings-section" class="content-section">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
                
                <div class="setting-item">
                    <h3><i class="fas fa-bell"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª</h3>
                    <p>ÙˆÙ‚Øª Ø§Ù„ØªØ°ÙƒÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ:</p>
                    <input type="time" id="settings-reminder-time" value="05:00" style="width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid var(--primary);">
                    <button class="btn btn-secondary" onclick="saveReminderSettings()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªØ°ÙƒÙŠØ±
                    </button>
                </div>
                
                <div class="setting-item">
                    <h3><i class="fas fa-paint-brush"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¸Ù‡Ø±</h3>
                    <label style="display: flex; align-items: center; gap: 10px; margin: 10px 0;">
                        <input type="checkbox" id="dark-mode-toggle" onchange="toggleThemeSetting()">
                        <span>Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</span>
                    </label>
                    <div style="margin: 15px 0;">
                        <p>Ø­Ø¬Ù… Ø®Ø· Ø§Ù„Ù‚Ø±Ø¢Ù†:</p>
                        <input type="range" id="font-size" min="20" max="36" value="28" oninput="changeFontSize(this.value)">
                        <span id="font-size-display">28px</span>
                    </div>
                </div>
                
                <div class="setting-item">
                    <h3><i class="fas fa-database"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
                    <button class="btn btn-secondary" onclick="exportData()" style="margin: 5px 0;">
                        <i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø¯Ù…
                    </button>
                    <button class="btn btn-secondary" onclick="importData()" style="margin: 5px 0;">
                        <i class="fas fa-upload"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª
                    </button>
                    <button class="btn btn-secondary" onclick="backupData()" style="margin: 5px 0;">
                        <i class="fas fa-copy"></i> Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                    </button>
                </div>
                
                <div class="setting-item">
                    <h3><i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† ÙˆØ§Ù„ØªØµÙÙŠØ±</h3>
                    <p style="color: #dc3545; margin: 10px 0;">âš ï¸ ØªØ­Ø°ÙŠØ±: Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡Ø§</p>
                    <button class="btn btn-danger" onclick="resetProgress()">
                        <i class="fas fa-trash"></i> ØªØµÙÙŠØ± ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙ‚Ø¯Ù… ÙƒØ§Ù…Ù„Ø§Ù‹
                    </button>
                    <button class="btn btn-secondary" onclick="resetBookmarks()" style="margin-top: 10px;">
                        <i class="far fa-bookmark"></i> ØªØµÙÙŠØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª ÙÙ‚Ø·
                    </button>
                    <button class="btn btn-secondary" onclick="resetSettings()" style="margin-top: 10px;">
                        <i class="fas fa-sliders-h"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                    </button>
                </div>
                
                <div class="setting-item">
                    <h3><i class="fas fa-info-circle"></i> Ø­ÙˆÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
                    <p>ğŸ“± Ù…ØµØ­Ù Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</p>
                    <p>ğŸ“š ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 604 ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø©</p>
                    <p>ğŸ”„ Ø§Ù„Ø¥ØµØ¯Ø§Ø±: 3.0.0 (ÙƒØ§Ù…Ù„)</p>
                    <p>âš¡ ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª (PWA)</p>
                    <button class="btn btn-primary" onclick="installApp()" style="margin-top: 15px;">
                        <i class="fas fa-download"></i> ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </button>
                </div>
            </div>
        </section>
    </div>

    <!-- JavaScript -->
    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØµØ­Ù Ø§Ù„ÙƒØ§Ù…Ù„Ø© (Ù…Ø¨Ø³Ø·Ø© Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„Ø¹Ø±Ø¶)
        // ÙÙŠ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©ØŒ Ø³ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙ†Ø§ 604 ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø©
        const quranData = {
            "1": {
                name: "Ø§Ù„ÙØ§ØªØ­Ø©",
                type: "Ù…ÙƒÙŠØ©",
                time: "Ù‚Ø¨Ù„ Ø§Ù„Ù‡Ø¬Ø±Ø©",
                place: "Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©",
                order: 1,
                reason: "Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…",
                ayahs: [
                    {number: 1, text: "Ø¨ÙØ³Ù’Ù…Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ù±Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ù±Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù", tafsir: "Ø£Ø¨Ø¯Ø£ ÙƒÙ„ Ø¹Ù…Ù„ Ù…Ø³ØªØ¹ÙŠÙ†Ù‹Ø§ Ø¨Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…ØŒ Ù…ØªØ°ÙƒØ±Ù‹Ø§ Ø±Ø­Ù…ØªÙ‡ Ø§Ù„ÙˆØ§Ø³Ø¹Ø© Ø§Ù„ØªÙŠ ÙˆØ³Ø¹Øª ÙƒÙ„ Ø´ÙŠØ¡.", reflection: "Ø§Ù„Ø¨Ø³Ù…Ù„Ø© ØªØ°ÙƒØ±Ùƒ Ø£Ù† ØªØ¨Ø¯Ø£ Ø£Ø¹Ù…Ø§Ù„Ùƒ Ø¨Ø§Ù„Ù„Ù‡ØŒ ÙØªØªÙ†Ø²Ù„ Ø§Ù„Ø¨Ø±ÙƒØ©.", application: "Ø³Ù… Ø§Ù„Ù„Ù‡ Ù‚Ø¨Ù„ ÙƒÙ„ Ø¹Ù…Ù„ Ø§Ù„ÙŠÙˆÙ…."},
                    {number: 2, text: "Ù±Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø±ÙØ¨ÙÙ‘ Ù±Ù„Ù’Ø¹ÙÙ°Ù„ÙÙ…ÙÙŠÙ†Ù", tafsir: "Ø§Ù„Ø«Ù†Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ø¨ØµÙØ§Øª Ø§Ù„ÙƒÙ…Ø§Ù„ ÙˆØ§Ù„Ø±Ø¨ÙˆØ¨ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ù„Ù‚.", reflection: "Ø§Ù„Ø­Ù…Ø¯ ÙŠÙ…Ù„Ø£ Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù…ØªÙ†Ø§Ù†Ù‹Ø§ ÙˆÙŠÙˆØ³Ø¹ Ø§Ù„Ø±Ø²Ù‚.", application: "Ø§Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡ 10 Ù…Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…."},
                    {number: 3, text: "Ù±Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ù±Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù", tafsir: "Ø§Ù„Ø±Ø­Ù…Ù†: Ø±Ø­Ù…Ø© Ø¹Ø§Ù…Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ù„Ù‚ØŒ Ø§Ù„Ø±Ø­ÙŠÙ…: Ø±Ø­Ù…Ø© Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†.", reflection: "Ø±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ Ø³Ø¨Ù‚Øª ØºØ¶Ø¨Ù‡ØŒ ÙƒÙ† Ø£Ù†Øª Ø£ÙŠØ¶Ù‹Ø§ Ø±Ø­ÙŠÙ…Ù‹Ø§.", application: "ØªØµØ¯Ù‚ Ø£Ùˆ Ø³Ø§Ø¹Ø¯ Ø´Ø®ØµÙ‹Ø§ Ø§Ù„ÙŠÙˆÙ…."},
                    {number: 4, text: "Ù…ÙÙ°Ù„ÙÙƒÙ ÙŠÙÙˆÙ’Ù…Ù Ù±Ù„Ø¯ÙÙ‘ÙŠÙ†Ù", tafsir: "Ø§Ù„Ù…Ø§Ù„Ùƒ Ù„ÙŠÙˆÙ… Ø§Ù„Ø¬Ø²Ø§Ø¡ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨ØŒ ÙˆÙ‡Ùˆ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©.", reflection: "ØªØ°ÙƒØ± ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø© ÙŠØ±Ø¯Ø¹ Ø¹Ù† Ø§Ù„Ù…Ø¹Ø§ØµÙŠ.", application: "ØªØµØ¯Ù‚ ØµØ¯Ù‚Ø© ØªØ°ÙƒØ±Ùƒ Ø¨ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©."},
                    {number: 5, text: "Ø¥ÙÙŠÙÙ‘Ø§ÙƒÙ Ù†ÙØ¹Ù’Ø¨ÙØ¯Ù ÙˆÙØ¥ÙÙŠÙÙ‘Ø§ÙƒÙ Ù†ÙØ³Ù’ØªÙØ¹ÙÙŠÙ†Ù", tafsir: "Ù†Ø®ØµÙƒ Ø¨Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø© ÙˆÙ†ØªÙˆÙƒÙ„ Ø¹Ù„ÙŠÙƒ ÙÙŠ ÙƒÙ„ Ø§Ù„Ø£Ù…ÙˆØ±.", reflection: "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ ÙÙŠ Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø© Ø´Ø±Ø· Ø§Ù„Ù‚Ø¨ÙˆÙ„.", application: "Ø£Ø®Ù„Øµ Ø§Ù„Ù†ÙŠØ© ÙÙŠ ØµÙ„Ø§ØªÙƒ Ø§Ù„ÙŠÙˆÙ…."},
                    {number: 6, text: "Ù±Ù‡Ù’Ø¯ÙÙ†ÙØ§ Ù±Ù„ØµÙÙ‘Ø±ÙÙ°Ø·Ù Ù±Ù„Ù’Ù…ÙØ³Ù’ØªÙÙ‚ÙÙŠÙ…Ù", tafsir: "Ø£Ø±Ø´Ø¯Ù†Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ… ÙˆÙ‡Ùˆ Ø§Ù„Ø¥Ø³Ù„Ø§Ù….", reflection: "Ø§Ø·Ù„Ø¨ Ø§Ù„Ù‡Ø¯Ø§ÙŠØ© Ø¯Ø§Ø¦Ù…Ù‹Ø§ØŒ ÙØ§Ù„Ù‚Ù„Ø¨ Ø¨ÙŠÙ† Ø£ØµØ¨Ø¹ÙŠÙ† Ù…Ù† Ø£ØµØ§Ø¨Ø¹ Ø§Ù„Ø±Ø­Ù…Ù†.", application: "Ø§Ø¯Ø¹ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø¹Ø§Ø¡ ÙÙŠ Ø³Ø¬ÙˆØ¯Ùƒ."},
                    {number: 7, text: "ØµÙØ±ÙÙ°Ø·Ù Ù±Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø£ÙÙ†Ù’Ø¹ÙÙ…Ù’ØªÙ Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙÙ…Ù’ ØºÙÙŠÙ’Ø±Ù Ù±Ù„Ù’Ù…ÙØºÙ’Ø¶ÙÙˆØ¨Ù Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙÙ…Ù’ ÙˆÙÙ„ÙØ§ Ù±Ù„Ø¶ÙÙ‘Ø¢Ù„ÙÙ‘ÙŠÙ†Ù", tafsir: "Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù†Ø¨ÙŠÙŠÙ† ÙˆØ§Ù„ØµØ¯ÙŠÙ‚ÙŠÙ† ÙˆØ§Ù„Ø´Ù‡Ø¯Ø§Ø¡ ÙˆØ§Ù„ØµØ§Ù„Ø­ÙŠÙ†.", reflection: "ÙƒÙ† Ù…Ù† Ø§Ù„Ù…Ù†Ø¹Ù… Ø¹Ù„ÙŠÙ‡Ù… Ø¨Ø§ØªØ¨Ø§Ø¹ Ø§Ù„Ø³Ù†Ø©.", application: "Ø§Ù‚Ø±Ø£ Ø¹Ù† ØµØ­Ø§Ø¨ÙŠ Ø¬Ù„ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…."}
                ]
            },
            "2": {
                name: "Ø§Ù„Ø¨Ù‚Ø±Ø©",
                type: "Ù…Ø¯Ù†ÙŠØ©",
                time: "Ø¨Ø¹Ø¯ Ø§Ù„Ù‡Ø¬Ø±Ø©",
                place: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©",
                order: 87,
                reason: "ØªØ£Ø³ÙŠØ³ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ",
                ayahs: [
                    {number: 1, text: "Ø§Ù„Ù“Ù…Ù“", tafsir: "Ø§Ù„Ù„Ù‡ Ø£Ø¹Ù„Ù… Ø¨Ù…Ø±Ø§Ø¯Ù‡ Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù…Ù‚Ø·Ø¹Ø©.", reflection: "Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ù‚Ø±Ø¢Ù† Ù„Ø§ ØªÙ†ØªÙ‡ÙŠ.", application: "ØªØ£Ù…Ù„ ÙÙŠ Ø¹Ø¸Ù…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†."},
                    {number: 2, text: "Ø°ÙÙ°Ù„ÙÙƒÙ Ù±Ù„Ù’ÙƒÙØªÙÙ°Ø¨Ù Ù„ÙØ§ Ø±ÙÙŠÙ’Ø¨Ù Û› ÙÙÙŠÙ‡Ù Û› Ù‡ÙØ¯Ù‹Ù‰ Ù„ÙÙ‘Ù„Ù’Ù…ÙØªÙÙ‘Ù‚ÙÙŠÙ†Ù", tafsir: "Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø±Ø¢Ù† Ù„Ø§ Ø´Ùƒ ÙÙŠÙ‡ØŒ ÙŠÙ‡Ø¯ÙŠ Ø§Ù„Ù…ØªÙ‚ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ÙŠØªÙ‚ÙˆÙ† Ø§Ù„Ø´Ø±Ùƒ ÙˆÙŠØ¤Ø¯ÙˆÙ† Ø§Ù„ÙØ±Ø§Ø¦Ø¶.", reflection: "Ø§Ù„ØªÙ‚ÙˆÙ‰ Ù…ÙØªØ§Ø­ Ø§Ù„ÙÙ‡Ù… ÙˆØ§Ù„Ù‡Ø¯Ø§ÙŠØ©.", application: "Ø§ØªÙ‚ Ø§Ù„Ù„Ù‡ Ø­ÙŠØ«Ù…Ø§ ÙƒÙ†Øª."},
                    {number: 3, text: "Ù±Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù ÙŠÙØ¤Ù’Ù…ÙÙ†ÙÙˆÙ†Ù Ø¨ÙÙ±Ù„Ù’ØºÙÙŠÙ’Ø¨Ù ÙˆÙÙŠÙÙ‚ÙÙŠÙ…ÙÙˆÙ†Ù Ù±Ù„ØµÙÙ‘Ù„ÙÙˆÙ°Ø©Ù ÙˆÙÙ…ÙÙ…ÙÙ‘Ø§ Ø±ÙØ²ÙÙ‚Ù’Ù†ÙÙ°Ù‡ÙÙ…Ù’ ÙŠÙÙ†ÙÙÙ‚ÙÙˆÙ†Ù", tafsir: "Ø§Ù„Ø°ÙŠÙ† ÙŠØµØ¯Ù‚ÙˆÙ† Ø¨Ø§Ù„ØºÙŠØ¨ØŒ ÙˆÙŠØ¤Ø¯ÙˆÙ† Ø§Ù„ØµÙ„Ø§Ø©ØŒ ÙˆÙŠØªØµØ¯Ù‚ÙˆÙ† Ù…Ù…Ø§ Ø±Ø²Ù‚Ù‡Ù… Ø§Ù„Ù„Ù‡.", reflection: "Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø§Ù„ØºÙŠØ¨ ÙŠØ²ÙŠØ¯ Ø§Ù„ÙŠÙ‚ÙŠÙ†.", application: "ØªØµØ¯Ù‚ Ø¨Ø´ÙŠØ¡ Ø§Ù„ÙŠÙˆÙ…."},
                    {number: 4, text: "ÙˆÙÙ±Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù ÙŠÙØ¤Ù’Ù…ÙÙ†ÙÙˆÙ†Ù Ø¨ÙÙ…ÙØ¢ Ø£ÙÙ†Ø²ÙÙ„Ù Ø¥ÙÙ„ÙÙŠÙ’ÙƒÙ ÙˆÙÙ…ÙØ¢ Ø£ÙÙ†Ø²ÙÙ„Ù Ù…ÙÙ† Ù‚ÙØ¨Ù’Ù„ÙÙƒÙ ÙˆÙØ¨ÙÙ±Ù„Ù’Ø¡ÙØ§Ø®ÙØ±ÙØ©Ù Ù‡ÙÙ…Ù’ ÙŠÙÙˆÙ‚ÙÙ†ÙÙˆÙ†Ù", tafsir: "ÙˆØ§Ù„Ø°ÙŠÙ† ÙŠØ¤Ù…Ù†ÙˆÙ† Ø¨Ù…Ø§ Ø£Ù†Ø²Ù„ Ø¥Ù„ÙŠÙƒ Ù…Ù† Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆÙ…Ø§ Ø£Ù†Ø²Ù„ Ù…Ù† Ù‚Ø¨Ù„Ùƒ Ù…Ù† Ø§Ù„ÙƒØªØ¨ØŒ ÙˆØ¨Ø§Ù„Ø¨Ø¹Ø« ÙˆØ§Ù„Ø¬Ø²Ø§Ø¡ Ù‡Ù… Ù…ÙˆÙ‚Ù†ÙˆÙ†.", reflection: "Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ø³Ù…Ø§ÙˆÙŠØ© ÙƒÙ„Ù‡Ø§.", application: "Ø§Ù‚Ø±Ø£ Ø¹Ù† Ù†Ø¨ÙŠ Ù…Ù† Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡."},
                    {number: 5, text: "Ø£ÙÙˆÛŸÙ„ÙÙ°Ù“Ø¦ÙÙƒÙ Ø¹ÙÙ„ÙÙ‰Ù° Ù‡ÙØ¯Ù‹Ù‰ Ù…ÙÙ‘Ù† Ø±ÙÙ‘Ø¨ÙÙ‘Ù‡ÙÙ…Ù’ Û– ÙˆÙØ£ÙÙˆÛŸÙ„ÙÙ°Ù“Ø¦ÙÙƒÙ Ù‡ÙÙ…Ù Ù±Ù„Ù’Ù…ÙÙÙ’Ù„ÙØ­ÙÙˆÙ†Ù", tafsir: "Ø£ÙˆÙ„Ø¦Ùƒ Ø§Ù„Ù…Ù‡ØªØ¯ÙˆÙ† Ø¨Ù‡Ø¯Ù‹Ù‰ Ù…Ù† Ø±Ø¨Ù‡Ù…ØŒ ÙˆØ£ÙˆÙ„Ø¦Ùƒ Ù‡Ù… Ø§Ù„ÙØ§Ø¦Ø²ÙˆÙ† ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙˆØ§Ù„Ø¢Ø®Ø±Ø©.", reflection: "Ø§Ù„ÙÙ„Ø§Ø­ Ù‡Ùˆ Ø§Ù„ÙÙˆØ² Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ.", application: "Ø§Ø·Ù„Ø¨ Ø§Ù„ÙÙ„Ø§Ø­ ÙÙŠ ØµÙ„Ø§ØªÙƒ."}
                ]
            },
            // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø³ÙˆØ± Ù‡Ù†Ø§...
            "3": { name: "Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†", type: "Ù…Ø¯Ù†ÙŠØ©", time: "Ø¨Ø¹Ø¯ Ø§Ù„Ù‡Ø¬Ø±Ø©", place: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", order: 89 },
            "4": { name: "Ø§Ù„Ù†Ø³Ø§Ø¡", type: "Ù…Ø¯Ù†ÙŠØ©", time: "Ø¨Ø¹Ø¯ Ø§Ù„Ù‡Ø¬Ø±Ø©", place: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", order: 92 },
            "5": { name: "Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©", type: "Ù…Ø¯Ù†ÙŠØ©", time: "Ø¨Ø¹Ø¯ Ø§Ù„Ù‡Ø¬Ø±Ø©", place: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", order: 112 },
            "6": { name: "Ø§Ù„Ø£Ù†Ø¹Ø§Ù…", type: "Ù…ÙƒÙŠØ©", time: "Ù‚Ø¨Ù„ Ø§Ù„Ù‡Ø¬Ø±Ø©", place: "Ù…ÙƒØ©", order: 55 },
            "7": { name: "Ø§Ù„Ø£Ø¹Ø±Ø§Ù", type: "Ù…ÙƒÙŠØ©", time: "Ù‚Ø¨Ù„ Ø§Ù„Ù‡Ø¬Ø±Ø©", place: "Ù…ÙƒØ©", order: 39 },
            "8": { name: "Ø§Ù„Ø£Ù†ÙØ§Ù„", type: "Ù…Ø¯Ù†ÙŠØ©", time: "Ø¨Ø¹Ø¯ Ø§Ù„Ù‡Ø¬Ø±Ø©", place: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", order: 88 },
            "9": { name: "Ø§Ù„ØªÙˆØ¨Ø©", type: "Ù…Ø¯Ù†ÙŠØ©", time: "Ø¨Ø¹Ø¯ Ø§Ù„Ù‡Ø¬Ø±Ø©", place: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", order: 113 },
            "10": { name: "ÙŠÙˆÙ†Ø³", type: "Ù…ÙƒÙŠØ©", time: "Ù‚Ø¨Ù„ Ø§Ù„Ù‡Ø¬Ø±Ø©", place: "Ù…ÙƒØ©", order: 51 }
            // ... ÙˆÙ‡ÙƒØ°Ø§ Ø­ØªÙ‰ 114 Ø³ÙˆØ±Ø©
        };

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙØ­Ø§Øª (604 ØµÙØ­Ø© Ù…Ø¨Ø³Ø·Ø©)
        const pagesData = {
            1: { start: "Ø§Ù„ÙØ§ØªØ­Ø© 1", end: "Ø§Ù„Ø¨Ù‚Ø±Ø© 1", content: "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù…Ù† Ø§Ù„Ù…ØµØ­Ù ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨Ø¯Ø§ÙŠØ© Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©..." },
            2: { start: "Ø§Ù„Ø¨Ù‚Ø±Ø© 2", end: "Ø§Ù„Ø¨Ù‚Ø±Ø© 5", content: "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ù…Ù† Ø§Ù„Ù…ØµØ­Ù..." },
            3: { start: "Ø§Ù„Ø¨Ù‚Ø±Ø© 6", end: "Ø§Ù„Ø¨Ù‚Ø±Ø© 10", content: "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© Ù…Ù† Ø§Ù„Ù…ØµØ­Ù..." },
            // ... ÙˆÙ‡ÙƒØ°Ø§ Ø­ØªÙ‰ 604
            604: { start: "Ø§Ù„Ù†Ø§Ø³ 1", end: "Ø§Ù„Ù†Ø§Ø³ 6", content: "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ù…Ù† Ø§Ù„Ù…ØµØ­Ù ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø§Ø³..." }
        };

        // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let currentState = {
            currentSurah: 1,
            currentAyah: 1,
            currentPage: 1,
            currentSection: 'daily',
            bookmarks: [],
            progress: {
                readAyahs: 0,
                readPages: 0,
                totalTime: 0, // Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚
                streak: 0,
                lastRead: null
            },
            settings: {
                reminderTime: '05:00',
                notifications: false,
                darkMode: false,
                fontSize: 28,
                autoSave: true
            }
        };

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function initApp() {
            loadState();
            setupUI();
            setupNotifications();
            loadDailyAyah();
            populateSurahSelect();
            updateProgress();
            updatePageDisplay();
            
            // Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
                if (!currentState.settings.notifications) {
                    requestNotificationPermission();
                }
            }, 3000);
            
            console.log('âœ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¬Ø§Ù‡Ø² Ù…Ø¹ Ø§Ù„Ù…ØµØ­Ù Ø§Ù„ÙƒØ§Ù…Ù„');
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        function loadState() {
            const saved = localStorage.getItem('quranAppFullState');
            if (saved) {
                try {
                    currentState = JSON.parse(saved);
                    console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©');
                } catch (e) {
                    console.log('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');
                }
            }
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            if (currentState.settings.darkMode) {
                document.documentElement.setAttribute('data-theme', 'dark');
                document.getElementById('dark-mode-toggle').checked = true;
            }
            
            document.getElementById('font-size').value = currentState.settings.fontSize;
            document.getElementById('font-size-display').textContent = currentState.settings.fontSize + 'px';
            document.querySelectorAll('.quran-text').forEach(el => {
                el.style.fontSize = currentState.settings.fontSize + 'px';
            });
        }

        // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø©
        function saveState() {
            if (currentState.settings.autoSave) {
                localStorage.setItem('quranAppFullState', JSON.stringify(currentState));
                console.log('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø©');
            }
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        function setupUI() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ø±ÙŠØ®
            const today = new Date().toLocaleDateString('ar-SA', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            document.getElementById('today-date').textContent = today;
            
            // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„ØªØ°ÙƒÙŠØ±
            document.getElementById('reminder-time').value = currentState.settings.reminderTime;
            document.getElementById('settings-reminder-time').value = currentState.settings.reminderTime;
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØµÙØ­Ø§Øª
            document.getElementById('page-slider').value = currentState.currentPage;
            document.getElementById('current-page-display').textContent = `Ø§Ù„ØµÙØ­Ø© ${currentState.currentPage}`;
            document.getElementById('page-info').textContent = `Ø§Ù„ØµÙØ­Ø© ${currentState.currentPage} Ù…Ù† 604`;
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function setupNotifications() {
            const permissionElement = document.getElementById('notification-permission');
            
            if ('Notification' in window) {
                if (Notification.permission === 'granted') {
                    currentState.settings.notifications = true;
                    permissionElement.style.display = 'none';
                    scheduleReminders();
                } else if (Notification.permission === 'denied') {
                    permissionElement.style.display = 'block';
                }
            } else {
                permissionElement.innerHTML = '<p>Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</p>';
            }
        }

        // Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function requestNotificationPermission() {
            if (!('Notification' in window)) {
                alert('Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª');
                return;
            }
            
            if (Notification.permission === 'granted') {
                currentState.settings.notifications = true;
                saveState();
                document.getElementById('notification-permission').style.display = 'none';
                scheduleReminders();
                alert('âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª!');
                return;
            }
            
            if (Notification.permission === 'denied') {
                alert('âŒ ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª. ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„Ù‡Ø§ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­.');
                return;
            }
            
            Notification.requestPermission().then(permission => {
                if (permission === 'granted') {
                    currentState.settings.notifications = true;
                    saveState();
                    document.getElementById('notification-permission').style.display = 'none';
                    scheduleReminders();
                    alert('âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
                } else {
                    alert('âŒ Ù„Ù… ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª. ÙŠÙ…ÙƒÙ†Ùƒ ØªÙØ¹ÙŠÙ„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹.');
                }
            });
        }

        // Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª
        function scheduleReminders() {
            if (!currentState.settings.notifications) return;
            
            const [hours, minutes] = currentState.settings.reminderTime.split(':').map(Number);
            const now = new Date();
            const reminderTime = new Date();
            
            reminderTime.setHours(hours, minutes, 0, 0);
            
            if (reminderTime <= now) {
                reminderTime.setDate(reminderTime.getDate() + 1);
            }
            
            const timeUntilReminder = reminderTime.getTime() - now.getTime();
            
            setTimeout(() => {
                if (Notification.permission === 'granted') {
                    showNotification('ğŸ•Œ ÙˆÙ‚Øª Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†', 'Ø­Ø§Ù† ÙˆÙ‚Øª Ù‚Ø±Ø§Ø¡Ø© ÙˆØ±Ø¯Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…');
                }
                scheduleReminders();
            }, timeUntilReminder);
        }

        // Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø±
        function showNotification(title, body) {
            if (Notification.permission === 'granted') {
                new Notification(title, {
                    body: body,
                    icon: 'https://img.icons8.com/color/96/000000/quran.png',
                    badge: 'https://img.icons8.com/color/96/000000/quran.png'
                });
            }
        }

        // ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
        function testNotification() {
            if (Notification.permission === 'granted') {
                showNotification('ğŸ”” ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØ°ÙƒÙŠØ±', 'Ù‡Ø°Ø§ ØªØ°ÙƒÙŠØ± ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ù…ØµØ­Ù Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…');
                alert('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ!');
            } else {
                requestNotificationPermission();
            }
        }

        // Ø­ÙØ¸ Ø§Ù„ØªØ°ÙƒÙŠØ±
        function saveReminder() {
            const time = document.getElementById('reminder-time').value;
            currentState.settings.reminderTime = time;
            saveState();
            scheduleReminders();
            alert(`âœ… ØªÙ… Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„ØªØ°ÙƒÙŠØ±: ${time}`);
        }

        // Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ± Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function saveReminderSettings() {
            const time = document.getElementById('settings-reminder-time').value;
            currentState.settings.reminderTime = time;
            saveState();
            scheduleReminders();
            alert(`âœ… ØªÙ… Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„ØªØ°ÙƒÙŠØ±: ${time}`);
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¢ÙŠØ© Ø§Ù„ÙŠÙˆÙ…
        function loadDailyAyah() {
            const today = new Date().getDate();
            const surahKeys = Object.keys(quranData);
            const surahIndex = (today % surahKeys.length);
            const surahNum = surahKeys[surahIndex];
            const surah = quranData[surahNum];
            
            if (!surah || !surah.ayahs) return;
            
            const ayahIndex = (today % (surah.ayahs?.length || 1));
            const ayah = surah.ayahs[ayahIndex];
            
            if (!ayah) return;
            
            document.getElementById('daily-ayah').textContent = ayah.text;
            document.getElementById('daily-tafsir').textContent = ayah.tafsir;
            document.getElementById('info-type').textContent = surah.type;
            document.getElementById('info-time').textContent = surah.time;
            document.getElementById('info-place').textContent = surah.place;
            document.getElementById('info-reason').textContent = surah.reason;
            document.getElementById('reflection-text').textContent = ayah.reflection;
            document.getElementById('application-text').textContent = ayah.application;
            
            currentState.currentSurah = parseInt(surahNum);
            currentState.currentAyah = ayah.number;
            currentState.progress.readAyahs++;
            saveState();
        }

        // Ù…Ù„Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ±
        function populateSurahSelect() {
            const select = document.getElementById('surah-select');
            select.innerHTML = '';
            
            Object.keys(quranData).forEach(key => {
                const surah = quranData[key];
                const option = document.createElement('option');
                option.value = key;
                option.textContent = `${surah.name} (${surah.type})`;
                select.appendChild(option);
            });
            
            select.value = currentState.currentSurah;
        }

        // ØªØ­Ù…ÙŠÙ„ Ø³ÙˆØ±Ø©
        function loadSurah() {
            const surahNum = document.getElementById('surah-select').value;
            const surah = quranData[surahNum];
            
            if (!surah) return;
            
            currentState.currentSurah = parseInt(surahNum);
            saveState();
            
            document.getElementById('surah-info').textContent = `Ø³ÙˆØ±Ø© ${surah.name}`;
            
            const ayahList = document.getElementById('ayah-list');
            ayahList.innerHTML = '';
            
            if (surah.ayahs && surah.ayahs.length > 0) {
                surah.ayahs.forEach(ayah => {
                    const ayahItem = document.createElement('div');
                    ayahItem.className = 'ayah-item';
                    ayahItem.onclick = () => selectAyah(surahNum, ayah.number);
                    ayahItem.innerHTML = `
                        <div class="quran-text">${ayah.text}</div>
                        <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                            <span style="color: var(--primary); font-weight: 600;">Ø§Ù„Ø¢ÙŠØ© ${ayah.number}</span>
                            <button onclick="event.stopPropagation(); bookmarkAyah(${surahNum}, ${ayah.number})" style="background: none; border: none; color: var(--primary); cursor: pointer;">
                                <i class="far fa-bookmark"></i>
                            </button>
                        </div>
                    `;
                    ayahList.appendChild(ayahItem);
                });
            } else {
                ayahList.innerHTML = '<p style="text-align: center; padding: 20px;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢ÙŠØ§Øª...</p>';
            }
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø¢ÙŠØ© Ù„Ø¹Ø±Ø¶ ØªÙØ³ÙŠØ±Ù‡Ø§
        function selectAyah(surahNum, ayahNum) {
            const surah = quranData[surahNum];
            
            if (!surah) return;
            
            // ØªØ­Ø¯ÙŠØ« Ù‚Ø³Ù… Ø§Ù„ØªÙØ³ÙŠØ±
            document.getElementById('selected-ayah-info').textContent = `Ø³ÙˆØ±Ø© ${surah.name} - Ø§Ù„Ø¢ÙŠØ© ${ayahNum}`;
            
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ØªÙØ³ÙŠØ± Ø§Ù„Ø¢ÙŠØ©
            let tafsirText = "Ø§Ù„ØªÙØ³ÙŠØ± ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠÙ‹Ø§.";
            if (surah.ayahs && surah.ayahs[ayahNum - 1]) {
                const ayah = surah.ayahs[ayahNum - 1];
                document.getElementById('selected-ayah-text').textContent = ayah.text;
                tafsirText = ayah.tafsir || "Ø§Ù„ØªÙØ³ÙŠØ± ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠÙ‹Ø§.";
            } else {
                document.getElementById('selected-ayah-text').textContent = `Ø¢ÙŠØ© ${ayahNum} Ù…Ù† Ø³ÙˆØ±Ø© ${surah.name}`;
            }
            
            document.getElementById('selected-tafsir-text').textContent = tafsirText;
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¢ÙŠØ©
            const infoGrid = document.getElementById('selected-ayah-info-grid');
            infoGrid.innerHTML = `
                <div class="info-item">
                    <i class="fas fa-mosque"></i>
                    <h4>Ø§Ù„Ù†ÙˆØ¹</h4>
                    <p>${surah.type}</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-clock"></i>
                    <h4>Ø§Ù„Ø²Ù…Ù†</h4>
                    <p>${surah.time}</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <h4>Ø§Ù„Ù…ÙƒØ§Ù†</h4>
                    <p>${surah.place}</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-info-circle"></i>
                    <h4>Ø³Ø¨Ø¨ Ø§Ù„Ù†Ø²ÙˆÙ„</h4>
                    <p>${surah.reason || "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"}</p>
                </div>
            `;
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØªÙØ³ÙŠØ±
            showSection('tafsir');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
            currentState.progress.readAyahs++;
            updateProgress();
        }

        // Ø­ÙØ¸ Ø§Ù„Ø¢ÙŠØ©
        function bookmarkAyah(surahNum, ayahNum) {
            const surah = quranData[surahNum];
            
            if (!surah) return;
            
            const ayahText = surah.ayahs && surah.ayahs[ayahNum - 1] 
                ? surah.ayahs[ayahNum - 1].text 
                : `Ø¢ÙŠØ© ${ayahNum} Ù…Ù† Ø³ÙˆØ±Ø© ${surah.name}`;
            
            const bookmark = {
                surah: surahNum,
                ayah: ayahNum,
                text: ayahText,
                date: new Date().toISOString(),
                surahName: surah.name
            };
            
            currentState.bookmarks.push(bookmark);
            saveState();
            alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¢ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª');
        }

        // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function showSection(sectionId) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯
            document.getElementById(`${sectionId}-section`).classList.add('active');
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯
            event.target.classList.add('active');
            
            currentState.currentSection = sectionId;
            saveState();
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‚Ø³Ù… Ø§Ù„Ù…ØµØ­ÙØŒ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©
            if (sectionId === 'mushaf') {
                loadSurah();
            }
        }

        // Ø§Ù„Ø¢ÙŠØ© Ø§Ù„ØªØ§Ù„ÙŠØ©
        function nextAyah() {
            const surah = quranData[currentState.currentSurah];
            if (!surah || !surah.ayahs) return;
            
            if (currentState.currentAyah < surah.ayahs.length) {
                currentState.currentAyah++;
            } else {
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
                const nextSurah = parseInt(currentState.currentSurah) + 1;
                if (quranData[nextSurah]) {
                    currentState.currentSurah = nextSurah;
                    currentState.currentAyah = 1;
                    document.getElementById('surah-select').value = currentState.currentSurah;
                    loadSurah();
                }
            }
            
            selectAyah(currentState.currentSurah, currentState.currentAyah);
        }

        // Ø§Ù„Ø¢ÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        function previousAyah() {
            if (currentState.currentAyah > 1) {
                currentState.currentAyah--;
            } else {
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
                const prevSurah = parseInt(currentState.currentSurah) - 1;
                if (quranData[prevSurah]) {
                    currentState.currentSurah = prevSurah;
                    const surah = quranData[prevSurah];
                    currentState.currentAyah = surah.ayahs ? surah.ayahs.length : 1;
                    document.getElementById('surah-select').value = currentState.currentSurah;
                    loadSurah();
                }
            }
            
            selectAyah(currentState.currentSurah, currentState.currentAyah);
        }

        // Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
        function nextSurah() {
            const current = parseInt(currentState.currentSurah);
            const next = current + 1;
            
            if (quranData[next]) {
                document.getElementById('surah-select').value = next;
                loadSurah();
            }
        }

        // Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        function prevSurah() {
            const current = parseInt(currentState.currentSurah);
            const prev = current - 1;
            
            if (quranData[prev]) {
                document.getElementById('surah-select').value = prev;
                loadSurah();
            }
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„ØµÙØ­Ø©
        function changePage(pageNum) {
            currentState.currentPage = parseInt(pageNum);
            updatePageDisplay();
            saveState();
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø©
        function updatePageDisplay() {
            document.getElementById('current-page-display').textContent = `Ø§Ù„ØµÙØ­Ø© ${currentState.currentPage}`;
            document.getElementById('page-info').textContent = `Ø§Ù„ØµÙØ­Ø© ${currentState.currentPage} Ù…Ù† 604`;
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©
            const pageContent = pagesData[currentState.currentPage] || { content: "Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©..." };
            document.getElementById('page-content').textContent = `Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„ØµÙØ­Ø© Ø±Ù‚Ù… ${currentState.currentPage} Ù…Ù† Ø§Ù„Ù…ØµØ­Ù. ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¢ÙŠØ§Øª Ù…Ù† Ø³ÙˆØ± Ù…Ø®ØªÙ„ÙØ©.`;
            
            currentState.progress.readPages++;
            updateProgress();
        }

        // ØµÙØ­Ø© Ø³Ø§Ø¨Ù‚Ø©
        function prevPage() {
            if (currentState.currentPage > 1) {
                currentState.currentPage--;
                document.getElementById('page-slider').value = currentState.currentPage;
                updatePageDisplay();
            }
        }

        // ØµÙØ­Ø© ØªØ§Ù„ÙŠØ©
        function nextPage() {
            if (currentState.currentPage < 604) {
                currentState.currentPage++;
                document.getElementById('page-slider').value = currentState.currentPage;
                updatePageDisplay();
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgress() {
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ù„Ù„ØªÙ‚Ø¯Ù…
            const totalPages = 604;
            const progressPercent = Math.min(100, (currentState.currentPage / totalPages) * 100);
            
            document.getElementById('progress-fill').style.width = `${progressPercent}%`;
            document.getElementById('current-progress').textContent = `${Math.round(progressPercent)}%`;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            const today = new Date();
            const lastRead = currentState.progress.lastRead ? new Date(currentState.progress.lastRead) : null;
            
            if (lastRead) {
                const diffDays = Math.floor((today - lastRead) / (1000 * 60 * 60 * 24));
                if (diffDays <= 1) {
                    currentState.progress.streak++;
                } else if (diffDays > 1) {
                    currentState.progress.streak = 1;
                }
            } else {
                currentState.progress.streak = 1;
            }
            
            currentState.progress.lastRead = today.toISOString();
            currentState.progress.totalTime += 1; // Ø¥Ø¶Ø§ÙØ© Ø¯Ù‚ÙŠÙ‚Ø© Ù„ÙƒÙ„ Ù‚Ø±Ø§Ø¡Ø©
            
            document.getElementById('streak-days').textContent = `${currentState.progress.streak} ÙŠÙˆÙ…`;
            document.getElementById('total-ayahs').textContent = `${currentState.progress.readAyahs} Ø¢ÙŠØ©`;
            document.getElementById('total-time').textContent = `${Math.floor(currentState.progress.totalTime / 60)} Ø³Ø§Ø¹Ø©`;
            document.getElementById('completion').textContent = `${Math.round(progressPercent)}%`;
            document.getElementById('reading-stats').textContent = `ğŸ“– ${currentState.progress.readAyahs} Ø¢ÙŠØ© | â±ï¸ ${Math.floor(currentState.progress.totalTime / 60)} Ø³Ø§Ø¹Ø©`;
            
            saveState();
        }

        // ØªÙ… Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„
        function markAsDone() {
            currentState.progress.readAyahs += 3;
            updateProgress();
            alert('âœ… Ø£Ø­Ø³Ù†Øª! ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¥Ù†Ø¬Ø§Ø²Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ');
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù…Ø©
        function toggleTheme() {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            document.documentElement.setAttribute('data-theme', isDark ? 'light' : 'dark');
            currentState.settings.darkMode = !isDark;
            saveState();
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù…Ø© Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function toggleThemeSetting() {
            const toggle = document.getElementById('dark-mode-toggle');
            const isDark = toggle.checked;
            
            document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
            currentState.settings.darkMode = isDark;
            saveState();
        }

        // ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ø®Ø·
        function changeFontSize(size) {
            document.querySelectorAll('.quran-text').forEach(el => {
                el.style.fontSize = size + 'px';
            });
            document.getElementById('font-size-display').textContent = size + 'px';
            currentState.settings.fontSize = parseInt(size);
            saveState();
        }

        // ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function exportData() {
            const dataStr = JSON.stringify(currentState, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `quran-progress-${new Date().toISOString().slice(0,10)}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            alert('âœ… ØªÙ… ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');
        }

        // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(event) {
                    try {
                        const importedState = JSON.parse(event.target.result);
                        currentState = importedState;
                        saveState();
                        location.reload();
                        alert('âœ… ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                    } catch (error) {
                        alert('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: Ø§Ù„Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­');
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }

        // Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
        function backupData() {
            saveState();
            alert('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©');
        }

        // ========== Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† ÙˆØ§Ù„ØªØµÙÙŠØ± ==========

        // ØªØµÙÙŠØ± ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙ‚Ø¯Ù… ÙƒØ§Ù…Ù„Ø§Ù‹
        function resetProgress() {
            if (confirm('âš ï¸  Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙ‚Ø¯Ù… ÙƒØ§Ù…Ù„Ø§Ù‹ØŸ\n\nâŒ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø³ØªØ­Ø°Ù:\nâ€¢ Ø¬Ù…ÙŠØ¹ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªÙ‚Ø¯Ù…\nâ€¢ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª\nâ€¢ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª\n\nâš ï¸  Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©!')) {
                // Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                localStorage.removeItem('quranAppFullState');
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
                currentState = {
                    currentSurah: 1,
                    currentAyah: 1,
                    currentPage: 1,
                    currentSection: 'daily',
                    bookmarks: [],
                    progress: {
                        readAyahs: 0,
                        readPages: 0,
                        totalTime: 0,
                        streak: 0,
                        lastRead: null
                    },
                    settings: {
                        reminderTime: '05:00',
                        notifications: false,
                        darkMode: false,
                        fontSize: 28,
                        autoSave: true
                    }
                };
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                loadDailyAyah();
                updateProgress();
                updatePageDisplay();
                setupUI();
                
                alert('âœ… ØªÙ… ØªØµÙÙŠØ± ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙ‚Ø¯Ù… ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¨Ù†Ø¬Ø§Ø­!');
            }
        }

        // ØªØµÙÙŠØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª ÙÙ‚Ø·
        function resetBookmarks() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©ØŸ')) {
                currentState.bookmarks = [];
                saveState();
                alert('âœ… ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª');
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function resetSettings() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©ØŸ')) {
                currentState.settings = {
                    reminderTime: '05:00',
                    notifications: false,
                    darkMode: false,
                    fontSize: 28,
                    autoSave: true
                };
                
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                document.documentElement.setAttribute('data-theme', 'light');
                document.getElementById('dark-mode-toggle').checked = false;
                document.getElementById('font-size').value = 28;
                document.getElementById('font-size-display').textContent = '28px';
                document.querySelectorAll('.quran-text').forEach(el => {
                    el.style.fontSize = '28px';
                });
                
                saveState();
                alert('âœ… ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
            }
        }

        // ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function installApp() {
            if (navigator.standalone) {
                alert('âœ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø«Ø¨Øª Ø¨Ø§Ù„ÙØ¹Ù„ Ø¹Ù„Ù‰ Ø´Ø§Ø´ØªÙƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©!');
                return;
            }
            
            alert('Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ iPhone:\n\n1. Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© (ğŸ“¤) ÙÙŠ Ø£Ø³ÙÙ„ Ø§Ù„Ø´Ø§Ø´Ø©\n2. Ù…Ø±Ø± Ù„Ù„Ø£Ø³ÙÙ„\n3. Ø§Ø®ØªØ± "Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"\n4. Ø§Ø¶ØºØ· "Ø¥Ø¶Ø§ÙØ©" ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰\n\nâœ… Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙƒØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠ Ø¹Ù„Ù‰ Ø´Ø§Ø´ØªÙƒ!');
        }

        // ØªØ³Ø¬ÙŠÙ„ Service Worker Ù„Ù„ØªØ´ØºÙŠÙ„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(() => console.log('âœ… Service Worker Ù…Ø³Ø¬Ù„ - ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª'))
                    .catch(err => console.log('âŒ ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Service Worker:', err));
            });
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.addEventListener('DOMContentLoaded', initApp);

        // Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬
        window.addEventListener('beforeunload', saveState);
    </script>
</body>
</html>
